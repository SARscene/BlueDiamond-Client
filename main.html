<!DOCTYPE html>
<html>
    <head>
        <title>Hackathon</title>
        <meta name="viewport" content="width=device-width, height=device-height, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, minimal-ui"> 
        <meta name="apple-mobile-web-app-capable" content="yes"> 
        <meta name="mobile-web-app-capable" content="yes">  
        <meta charset="UTF-8">  
        
        <!-- JQuery Mobile -->
        <script type="text/javascript" src="lib/jqm/jquery-1.11.2.min.js"></script>
        <link rel="stylesheet" href="lib/jqm/jquery.mobile-1.4.2.min.css" />
        <script type="text/javascript" src="lib/jqm/jquery.mobile-1.4.2.min.js"></script>

        <!-- PHONEGAP -->
        <!--<script type="text/javascript" src="cordova.js"></script>-->
        <script type="text/javascript" src="mod/phonegap/phonegap_init.js"></script>

        <!-- Telephone Widget -->
        <script src="lib/intl-tel-input-master/build/js/intlTelInput.min.js"></script>
        <link rel="stylesheet" href="lib/intl-tel-input-master/build/css/intlTelInput.css">

        <!-- QR CODE -->
        <script type="text/javascript" src="lib/jsqrcode/lib/html5-qrcode.min.js"></script>
        <script type="text/javascript" src="lib/jsqrcode/lib/jsqrcode-combined.min.js"></script>

        <!-- MODS -->
        <link rel="stylesheet" href="css/style.css" />
        <script type="text/javascript" src="mod/welcome/welcome.js"></script>
        <script type="text/javascript" src="mod/qrscanner/qrscanner.js"></script>
        <script type="text/javascript" src="mod/track/track.js"></script>
        <script type="text/javascript" src="mod/control/control.js"></script>
        <script type="text/javascript" src="mod/connections/connections.js"></script>
        <script type="text/javascript" src="mod/popup/popup.js"></script>
        <script type="text/javascript" src="mod/bluediamond.utilities.js"></script>
        <script type="text/javascript" src="mod/bluediamond.connection.js"></script>
        <script type="text/javascript" src="mod/bluediamond.incident.js"></script>
        
    </head>
    <body>

        <div id="welcomePage" class="page" data-role="page">
            <div id="welcomeContent" class="content" data-role="content">
                <p id="error"></p>
                <input id="telephone" placeholder="Telephone" value="" type="tel" autocapitalize="none" autocorrect="off" autocomplete="off" spellcheck="false" tabindex="1">
                <a id="signupButton" class="button" data-role="button" tabindex="2" onclick="">Start</a>
            </div>
        </div>

        <div id="qrPage" class="page" data-role="page">
            <a class="button" data-role="button" tabindex="1" href="#qrPage">QR</a>
            <a class="button" data-role="button" tabindex="1" href="#connectPage">Connection</a>
            <a class="button" data-role="button" tabindex="1" href="#trackingPage">Tracking</a>
            <a class="button" data-role="button" tabindex="1" href="#settingsPage">Settings</a>
            <a class="button" data-role="button" tabindex="1" href="#mapsPage">Maps</a>

            <div id="qrContent" class="content" data-role="content">
                <a id="qrToWelcomeButton" class="button" data-role="button" tabindex="1" onclick="navToWelcomePage()">Back</a>
                <div id="reader" style="width:300px;height:250px"></div>
                <span id="read"></span>
                <span id="read_error"></span>
                <span id="vid_error"></span>
            </div>
        </div>

        <div id="trackingPage" class="page" data-role="page">
            <div id="trackingContent" class="content" data-role="content">
                <a id="trackButton" class="button" data-role="button" tabindex="1" onclick="navToQrPage()">Back</a>
                <a id="trackButton" class="button" data-role="button" tabindex="2" onclick="trackButtonClick()">Toggle Tracking</a>
                <a id="trackButton" class="button" data-role="button" tabindex="3" onclick="submitTracks()">Submit Tracks</a>
            </div>
        </div>

        <div id="connectPage" class="page" data-role="page">
            <div>
                <h3>Automatic Lookup</h3>
                <button id="btn-automate" onclick="BD.connection.lookup()">Try known servers</button>
            </div>
        </div>

        <div id="settingsPage" class="page" data-role="page">
            <div>
                <h3>Add to known servers list</h3>
                <label for="in-storage">Server url</label>
                <input name="server" type="url" id="in-storage" placeholder="http://999.999.999"/>
                <button id="btn-storage" onclick="BD.u.validate($('#in-storage'), BD.connection.add)">Add</button>
            </div>
        </div>

        <div id="mapsPage" class="page" data-role="page">

            Maps

            <a id="signupButton" class="button" data-role="button" tabindex="2" onclick="BD.incident.map.fetch()">Fetch from server</a>
            <a id="signupButton" class="button" data-role="button" tabindex="2" onclick="BD.incident.map.list()">List local maps</a>

            <ol id="files-list">
            </ol>

            <div id="map-viewer"></div>

        </div>

    </body>
</html>